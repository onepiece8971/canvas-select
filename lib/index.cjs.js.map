{"version":3,"file":"index.cjs.js","sources":["../src/tools.ts","../src/shape/Shape.ts","../src/shape/Rect.ts","../src/shape/Polygon.ts","../src/shape/Dot.ts","../src/EventBus.ts","../src/shape/Line.ts","../src/shape/Circle.ts","../src/index.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null],"names":["isPointInPolygon","x","y","vertices","inside","n","length","i","j","xi","yi","xj","yj","Shape$1","constructor","item","index","this","label","hideLabel","coor","strokeStyle","fillStyle","lineWidth","labelFillStyle","textFillStyle","labelFont","type","active","creating","dragging","uuid","s","hexDigits","m","Math","floor","random","slice","join","createUuid","labelUp","Object","assign","Rect","Shape","super","ctrlsData","x0","y0","x1","y1","Polygon","Dot","EventBus","_eventTree","on","eventName","cb","fns","Array","isArray","push","emit","payload","forEach","fn","off","find","splice","Line","Circle","radius","el","src","lock","readonly","MIN_WIDTH","MIN_HEIGHT","MIN_RADIUS","activeStrokeStyle","activeFillStyle","ctrlStrokeStyle","ctrlFillStyle","ctrlRadius","labelMaxLen","WIDTH","HEIGHT","dataset","remmber","mouse","remmberOrigin","createType","None","ctrlIndex","image","Image","IMAGE_ORIGIN_WIDTH","IMAGE_WIDTH","IMAGE_ORIGIN_HEIGHT","IMAGE_HEIGHT","originX","originY","scaleStep","scrollZoom","dblTouch","dblTouchStore","alpha","focusMode","evt","scaleTouchStore","isTouch2","isMobile","navigator","userAgent","includes","ctrlKey","handleLoad","bind","handleContextmenu","handleMousewheel","handleMouseDown","handleMouseMove","handleMouseUp","handleDblclick","handleKeyup","handleKeydown","container","document","querySelector","HTMLCanvasElement","canvas","offScreen","createElement","initSetting","initEvents","setImage","console","warn","activeShape","scale","imageMin","min","imageOriginMax","max","mergeEvent","e","mouseX","mouseY","mouseCX","mouseCY","clientX","clientY","touches","target","left","top","getBoundingClientRect","round","clientX1","clientY1","abs","offsetX","offsetY","width","height","fitZoom","preventDefault","stopPropagation","setScale","deltaY","buttons","ctrls","findIndex","isPointInCircle","isInBackground","nx","ny","hitShapeIndex","hitShape","hitOnShape","pt","sort","a","b","newShape","curPoint","sp","update","a0","b0","a1","b1","newPoint","newRadius","noLimit","w","h","t1","t2","tar","r","sqrt","which","touch0","touch1","cur","Date","now","pop","canPolygon","canLine","key","deleteByIndex","dpr","window","devicePixelRatio","style","userSelect","ctx","getContext","clientWidth","clientHeight","offScreenCtx","willReadFrequently","addEventListener","body","url","setData","data","setTimeout","initdata","prototype","toString","call","shape","mousePoint","isPointInRect","isPointInLine","point","map","save","clearRect","translate","beginPath","moveTo","lineTo","closePath","fill","areaData","getImageData","restore","center","stroke","isNested","shape1","shape2","x2","y2","x3","y3","x4","y4","vertices1","vertices2","drawRect","fillRect","strokeRect","drawLabel","drawPolygon","lineJoin","drawDot","arc","PI","drawCirle","drawLine","drawCtrl","drawCtrlList","isHideLabel","isLabelUp","currLineWidth","font","textPaddingLeft","textPaddingTop","newText","text","measureText","parseInt","labelWidth","labelHeight","toleft","toTop","toTop2","isup","fillText","cancelAnimationFrame","timer","requestAnimationFrame","drawImage","renderList","hide","num","calcStep","flag","byMouse","pure","realToLeft","realToRight","setFocusMode","destroy","removeEventListener","resize"],"mappings":"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"}
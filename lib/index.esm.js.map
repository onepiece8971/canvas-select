{"version":3,"file":"index.esm.js","sources":["../src/tools.ts","../src/shape/Shape.ts","../src/shape/Rect.ts","../src/shape/Polygon.ts","../src/shape/Dot.ts","../src/EventBus.ts","../src/shape/Line.ts","../src/shape/Circle.ts","../src/index.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null],"names":["isPointInPolygon","x","y","vertices","inside","n","length","i","j","xi","yi","xj","yj","Shape$1","constructor","item","index","this","label","hideLabel","coor","strokeStyle","fillStyle","lineWidth","labelFillStyle","textFillStyle","labelFont","type","active","creating","dragging","uuid","s","hexDigits","m","Math","floor","random","slice","join","createUuid","labelUp","Object","assign","Rect","Shape","super","ctrlsData","x0","y0","x1","y1","Polygon","Dot","EventBus","_eventTree","on","eventName","cb","fns","Array","isArray","push","emit","payload","forEach","fn","off","find","splice","Line","Circle","radius","CanvasSelect","el","src","lock","readonly","MIN_WIDTH","MIN_HEIGHT","MIN_RADIUS","activeStrokeStyle","activeFillStyle","ctrlStrokeStyle","ctrlFillStyle","ctrlRadius","labelMaxLen","WIDTH","HEIGHT","dataset","remmber","mouse","remmberOrigin","createType","None","ctrlIndex","image","Image","IMAGE_ORIGIN_WIDTH","IMAGE_WIDTH","IMAGE_ORIGIN_HEIGHT","IMAGE_HEIGHT","originX","originY","scaleStep","scrollZoom","dblTouch","dblTouchStore","alpha","focusMode","evt","scaleTouchStore","isTouch2","isMobile","navigator","userAgent","includes","ctrlKey","handleLoad","bind","handleContextmenu","handleMousewheel","handleMouseDown","handleMouseMove","handleMouseUp","handleDblclick","handleKeyup","handleKeydown","container","document","querySelector","HTMLCanvasElement","canvas","offScreen","createElement","initSetting","initEvents","setImage","console","warn","activeShape","scale","imageMin","min","imageOriginMax","max","mergeEvent","e","mouseX","mouseY","mouseCX","mouseCY","clientX","clientY","touches","target","left","top","getBoundingClientRect","round","clientX1","clientY1","abs","offsetX","offsetY","width","height","fitZoom","preventDefault","stopPropagation","setScale","deltaY","buttons","ctrls","findIndex","isPointInCircle","isInBackground","nx","ny","hitShapeIndex","hitShape","hitOnShape","pt","sort","a","b","newShape","curPoint","sp","update","a0","b0","a1","b1","newPoint","newRadius","noLimit","w","h","t1","t2","tar","r","sqrt","which","touch0","touch1","cur","Date","now","pop","canPolygon","canLine","key","deleteByIndex","dpr","window","devicePixelRatio","style","userSelect","ctx","getContext","clientWidth","clientHeight","offScreenCtx","willReadFrequently","addEventListener","body","url","setData","data","setTimeout","initdata","prototype","toString","call","shape","mousePoint","isPointInRect","isPointInLine","point","map","save","clearRect","translate","beginPath","moveTo","lineTo","closePath","fill","areaData","getImageData","restore","center","stroke","isNested","shape1","shape2","x2","y2","x3","y3","x4","y4","vertices1","vertices2","drawRect","fillRect","strokeRect","drawLabel","drawPolygon","lineJoin","drawDot","arc","PI","drawCirle","drawLine","drawCtrl","drawCtrlList","isHideLabel","isLabelUp","currLineWidth","font","textPaddingLeft","textPaddingTop","newText","text","measureText","parseInt","labelWidth","labelHeight","toleft","toTop","toTop2","isup","fillText","cancelAnimationFrame","timer","requestAnimationFrame","drawImage","renderList","hide","num","calcStep","flag","byMouse","pure","realToLeft","realToRight","setFocusMode","destroy","removeEventListener","resize"],"mappings":"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"}